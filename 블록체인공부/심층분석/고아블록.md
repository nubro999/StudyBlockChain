
## 1. 고아 블록(Orphan Block)이란?

- **고아 블록**은  
    블록체인 네트워크에서 일시적으로 생성되었지만  
    **최종적으로 체인에 포함되지 못한 블록**을 말합니다.
- 주로 **포크**(체인이 두 갈래로 갈라짐) 상황에서  
    한쪽 체인이 더 길어지면  
    짧은 쪽에 있던 블록들이 고아 블록이 됩니다.

---

## 2. 고아 블록이 생기는 과정

1. **동시에 블록 생성**  
    두 명의 마이너가 거의 동시에 블록을 생성해  
    서로 다른 노드에 전파됩니다.
2. **일시적 포크**  
    네트워크 일부는 A블록, 일부는 B블록을  
    각자의 블록체인 끝에 붙입니다.
3. **다음 블록 생성**  
    시간이 지나  
    한쪽(예: B블록 위)에 더 빨리 다음 블록이 붙으면  
    그 체인이 더 길어집니다.
4. **합의 규칙 적용**  
    네트워크는 **더 긴 체인**을 공식 체인으로 선택하고  
    반대쪽(예: A블록)은 고아 블록이 됩니다.

---

## 3. 고아 블록의 처리 방법

### (1) 네트워크 관점

- **고아 블록은 체인에서 버려집니다.**
- 해당 블록에 있던 트랜잭션들은  
    아직 다른 블록에 포함되지 않았다면  
    **다시 미확정 트랜잭션 풀(Mempool)로 돌아갑니다.**
- 대부분의 고아 블록에 포함된 트랜잭션은  
    이후 다른 블록에 다시 포함됩니다.

### (2) 채굴자(마이너) 보상

- **고아 블록을 만든 마이너는 보상을 받지 못합니다.**
- 공식 체인에 포함된 블록만  
    채굴 보상(코인 + 수수료)을 받습니다.

### (3) 노드의 내부 처리

- 각 노드는 고아 블록을  
    **자신의 데이터베이스에서 분리**하거나  
    일정 기간 후 삭제합니다.
- 블록체인 전체 기록에는 남지 않습니다.

[[What is bitcoin]]